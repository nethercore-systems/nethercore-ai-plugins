# Jump Mechanics Test
# Tests that pressing A applies negative velocity (jumping up)
# Expected: Player starts grounded, velocity_y becomes negative after A press

console = "zx"
seed = 0
players = 1

frames = [
  # Initial state - player should be on ground
  { f = 0, p1 = "idle", snap = true },

  # Press jump - velocity should go negative
  { f = 1, p1 = "a", snap = true, assert = "$velocity_y < 0" },

  # Still holding jump - should be airborne
  { f = 2, p1 = "a", snap = true, assert = "$on_ground == false" },

  # Release jump - still in air, velocity affected by gravity
  { f = 5, p1 = "idle", snap = true },

  # Peak of jump - velocity approaching zero
  { f = 10, p1 = "idle", snap = true },

  # Falling - velocity positive (falling down)
  { f = 20, p1 = "idle", snap = true },

  # Landed - back on ground
  { f = 40, p1 = "idle", snap = true, assert = "$on_ground == true" },
]
