# Movement Test
# Tests basic left/right movement mechanics
# Expected: Holding direction changes position, releasing stops movement

console = "zx"
seed = 0
players = 1

frames = [
  # Initial state - capture starting position
  { f = 0, p1 = "idle", snap = true },

  # Move right - position should increase
  { f = 1, p1 = "right" },
  { f = 10, p1 = "right", snap = true, assert = "$player_x > 100" },

  # Continue right
  { f = 20, p1 = "right", snap = true },

  # Stop - capture final right position
  { f = 30, p1 = "idle", snap = true },

  # Velocity should be zero or near-zero when stopped
  { f = 35, p1 = "idle", snap = true },

  # Move left - position should decrease
  { f = 40, p1 = "left" },
  { f = 50, p1 = "left", snap = true },

  # Continue left
  { f = 60, p1 = "left", snap = true },

  # Stop and capture final position
  { f = 70, p1 = "idle", snap = true },

  # Diagonal movement test - right+up
  { f = 80, p1 = "right+up", snap = true },
  { f = 90, p1 = "right+up", snap = true },

  # Final idle state
  { f = 100, p1 = "idle", snap = true },
]
